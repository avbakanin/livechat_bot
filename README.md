# –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–±—ã–≤–∞—é

```bash
sudo systemctl restart bot # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Å –∏–º–µ–Ω–µ–º bot
sudo systemctl status bot # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ bot
sudo journalctl -u bot -f # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∂—É—Ä–Ω–∞–ª (–ª–æ–≥–∏) —Å–µ—Ä–≤–∏—Å–∞ bot –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
ps aux | grep main.py # –ò—â–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å main.py —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```

# –†–∞–±–æ—Ç–∞ —Å –ø–∞–∫–µ—Ç–∞–º–∏ Python

## üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### –ó–∞–º–æ—Ä–æ–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ requirements.txt

```bash
# —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è
pip freeze | xargs pip uninstall -y
# –ó–∞–º–æ—Ä–æ–∑–∏—Ç—å –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
pip freeze > requirements.txt
# –¢–æ–ª—å–∫–æ –ø–∞–∫–µ—Ç—ã, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ pip (–∏—Å–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã)
pip list --not-required --format freeze > requirements.txt
# –¢–æ–ª—å–∫–æ –ø–∞–∫–µ—Ç—ã –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
pip freeze --local > requirements.txt
# –° —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É
pip freeze | sort > requirements.txt
# –£–º–Ω–∞—è –∑–∞–º–æ—Ä–æ–∑–∫–∞ (—Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã)
pip freeze | grep -E "(aiogram|openai|python-dotenv|sqlalchemy|asyncpg)" > requirements.txt
```

# üó£Ô∏è Chat Training Server

–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ç–∏–≤–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤. –¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ –æ–±—â–µ–Ω–∏–µ —Å –∏—Å–∫—É—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞–º–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å—Ä–µ–¥–µ.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üí¨ –û–±—â–µ–Ω–∏–µ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º (–∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º ChatGPT)
- üéØ –†–µ–∂–∏–º –¥–∏–∞–ª–æ–≥–∞ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º –≤ —Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö
- üìä –ê–Ω–∞–ª–∏–∑ –∏ feedback –ø–æ —Å—Ç–∏–ª—é –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –æ–±—â–µ–Ω–∏–∏
- üîê –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–Ω–æ–Ω–∏–º–Ω–∞—è —Å—Ä–µ–¥–∞

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- PostgreSQL

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-username/chat-training-server.git
cd chat-training-server

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (–≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –û–°)
source venv/bin/activate      # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate        # Windows

# –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# Dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ª–∏–Ω—Ç–µ—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç–µ—Ä—ã)
pip install -r requirements-dev.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª –ø–æ–¥ –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python main.py
```

## –ù–∞—Å—Ç—Ä–æ–∏—Ç—å git –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–æ–≤ –∏–∑ –¥—Ä—É–≥–æ–π –ø–∞–ø–∫–∏

### –£–∫–∞–∑—ã–≤–∞–µ–º git –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à—É –≤–∏–¥–∏–º—É—é –ø–∞–ø–∫—É –¥–ª—è —Ö—É–∫–æ–≤

git config core.hooksPath git_hooks

### –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–º–µ–Ω–∏–ª–∞—Å—å –ø–æ–∫–∞–∂–µ—Ç –ø—É—Ç—å

git config --get core.hooksPath

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –ø–∞–ø–∫–∏ .git/hooks

git config --unset core.hooksPath

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

DB_PORT='your-DB-port'
DB_HOST='your-DB-host'
DB_NAME="your-DB-name"
DB_USER="your-user-from-DB"
DB_PASSWORD="your-password-from-DB"
DATABASE_URL=postgresql://user:password@localhost/chat_training

AI_MODEL="your-model-name"

TELEGRAM_TOKEN="your-secret-token-for-sessions"
OPENAI_API_KEY="your-openai-secret-key"

LOG_LEVEL=INFO

# üõ† Project PoeThePoet Commands

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **PoeThePoet** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∫–æ–¥–∞.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞           | –û–ø–∏—Å–∞–Ω–∏–µ                              | –≠–º–æ–¥–∑–∏ |
| ----------------- | ------------------------------------- | ------ |
| `poe run`         | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞                           | üöÄ     |
| `poe install`     | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π       | üì¶     |
| `poe dev-install` | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π            | üîß     |
| `poe update`      | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π               | üîÑ     |
| `poe venv`        | –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è       | üèóÔ∏è     |
| `poe format`      | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞                   | ‚ú®     |
| `poe lint`        | –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞                  | üîç     |
| `poe check`       | –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π                | üìã     |
| `poe quick-lint`  | –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏) | ‚ö°     |
| `poe clean`       | –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞                          | üßπ     |

## üîÑ –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏

| –ö–æ–º–∞–Ω–¥–∞          | –û–ø–∏—Å–∞–Ω–∏–µ                               | –≠–º–æ–¥–∑–∏ |
| ---------------- | -------------------------------------- | ------ |
| `poe setup`      | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å                 | üéØ     |
| `poe dev-setup`  | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å | üõ†Ô∏è     |
| `poe full-check` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ + –ø—Ä–æ–≤–µ—Ä–∫–∞              | ‚úÖ     |
| `poe restart`    | –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ (–æ—á–∏—Å—Ç–∫–∞ + –∑–∞–ø—É—Å–∫)          | üîÑ     |

## üìã Workflow –ø—Ä–∏–º–µ—Ä—ã

```bash
# üèÅ –ü–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
poe venv          # üèóÔ∏è –°–æ–∑–¥–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
poe install       # üì¶ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
poe run           # üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

# üîÑ –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞
poe format        # ‚ú® –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
poe check         # üìã –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ
poe run           # üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞

# üíæ –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
poe full-check    # ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ + –ø—Ä–æ–≤–µ—Ä–∫–∞

# üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å
poe restart       # üîÑ –û—á–∏—Å—Ç–∫–∞ + –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
```

## üõ†Ô∏è –°–ª—É–∂–µ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ –ø–∞–ø–∫–µ `scripts/`:

```
scripts/
‚îú‚îÄ‚îÄ diagnostic/     # –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ check_user_diagnostic.py
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ maintenance/     # –°–∫—Ä–∏–ø—Ç—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ clean_metrics.py
‚îÇ   ‚îú‚îÄ‚îÄ clear_user_cache.py
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ security/        # –°–∫—Ä–∏–ø—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ stop_list.py
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ README.md       # –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python scripts/diagnostic/check_user_diagnostic.py
```

### üßπ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

```bash
# –û—á–∏—Å—Ç–∫–∞ –º–µ—Ç—Ä–∏–∫ –æ—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
python scripts/maintenance/clean_metrics.py

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python scripts/maintenance/clear_user_cache.py
```

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ø-–ª–∏—Å—Ç–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤
python scripts/security/stop_list.py
```

## üìä –°–ú–û–¢–†–ò–ú –õ–û–ì–ò

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫ –ª–æ–≥–∞:

Get-Content bot.log -Tail 20

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫:

Get-Content bot.log | Select-String "ERROR"

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

Get-Content bot.log -Wait
