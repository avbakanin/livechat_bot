# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ - –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ç–µ–ø–µ—Ä—å –Ω–∞ –æ–¥–Ω–æ–º —è–∑—ã–∫–µ

## –ü—Ä–æ–±–ª–µ–º–∞
–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –±–æ—Ç–∞ –±—ã–ª–∞ —Å–º–µ—à–∞–Ω–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è:
- **–¢–µ–∫—Å—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**: –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω)
- **–ö–Ω–æ–ø–∫–∏**: –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ i18n)

–≠—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç.

## –ü—Ä–∏—á–∏–Ω–∞
–í —Ñ–∞–π–ª–µ `app/domain/user/messages.py` —Ç–µ–∫—Å—Ç—ã –±—ã–ª–∏ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã i18n.

## –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω `app/domain/user/messages.py`
```python
# ‚ùå –ë–´–õ–û (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º):
def get_gender_change_warning_text() -> str:
    return "‚ö†Ô∏è –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–º–µ–Ω–∏—Ç—å –ø–æ–ª –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞?\n\n–í—Å—è –∏—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞!"

# ‚úÖ –°–¢–ê–õ–û (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç i18n):
def get_gender_change_warning_text() -> str:
    return i18n.t("gender.change_warning")
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω `app/domain/user/keyboards.py`
–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ keyboard —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `i18n`:
```python
# ‚ùå –ë–´–õ–û:
def get_gender_change_confirmation_keyboard() -> InlineKeyboardMarkup:

# ‚úÖ –°–¢–ê–õ–û:
def get_gender_change_confirmation_keyboard(i18n: I18nMiddleware) -> InlineKeyboardMarkup:
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω—ã handlers
–í—Å–µ –≤—ã–∑–æ–≤—ã keyboard —Ñ—É–Ω–∫—Ü–∏–π —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `i18n`:
```python
# ‚ùå –ë–´–õ–û:
await message.answer(get_gender_change_warning_text(), reply_markup=get_gender_change_confirmation_keyboard())

# ‚úÖ –°–¢–ê–õ–û:
await message.answer(i18n.t("gender.change_warning"), reply_markup=get_gender_change_confirmation_keyboard(i18n))
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **–¢–µ–∫—Å—Ç**: "‚ö†Ô∏è –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–º–µ–Ω–∏—Ç—å –ø–æ–ª –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞? –í—Å—è –∏—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞!"
- **–ö–Ω–æ–ø–∫–∏**: "–î–∞, —Å–º–µ–Ω–∏—Ç—å –ø–æ–ª" / "–û—Ç–º–µ–Ω–∞"

### –î–ª—è –∞–Ω–≥–ª–æ—è–∑—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **–¢–µ–∫—Å—Ç**: "‚ö†Ô∏è Are you sure you want to change companion's gender? All chat history will be deleted!"
- **–ö–Ω–æ–ø–∫–∏**: "Yes, change gender" / "Cancel"

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –í–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –æ–¥–Ω–æ–º —è–∑—ã–∫–µ
2. **‚úÖ –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —è–∑—ã–∫–∏
4. **‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏

## –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤

–ü–µ—Ä–µ–≤–æ–¥—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤:
- `locales/ru/translations.json` - —Ä—É—Å—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
- `locales/en/translations.json` - –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã

–ö–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
- `gender.change_warning` - —Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `buttons.yes_change` - –∫–Ω–æ–ø–∫–∞ "–î–∞, —Å–º–µ–Ω–∏—Ç—å –ø–æ–ª"
- `buttons.cancel` - –∫–Ω–æ–ø–∫–∞ "–û—Ç–º–µ–Ω–∞"

–¢–µ–ø–µ—Ä—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ
