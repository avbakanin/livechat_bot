# –û—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –æ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–ª—é—á–µ–π

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### 1. ‚ùå –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∫–ª—é—á–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `commands.start.already_started` –∏ `messages.bot_already_started` —Å–æ–¥–µ—Ä–∂–∞–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ç–µ–∫—Å—Ç
- –≠—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –ø—É—Ç–∞–Ω–∏—Ü—É –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω `messages.bot_already_started` –∏–∑ –æ–±–æ–∏—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `commands.start.already_started`
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫–ª—é—á –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è "–±–æ—Ç —É–∂–µ –∑–∞–ø—É—â–µ–Ω"

### 2. ‚ùå –ü–æ—Ö–æ–∂–∏–µ –∫–ª—é—á–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `gender.choose` –∏ `gender.choose_for_chat` —Å–æ–¥–µ—Ä–∂–∞–ª–∏ –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏–π —Ç–µ–∫—Å—Ç
- –†–∞–∑–Ω–∏—Ü–∞ –±—ã–ª–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π ("–¥–ª—è –æ–±—â–µ–Ω–∏—è" / "for chatting")

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω `gender.choose_for_chat` –∏–∑ –æ–±–æ–∏—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ `gender.choose` –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞ –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞

### 3. ‚ùå –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–ª—é—á–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `gender.changed_to_female` –∏ `gender.changed_to_male` –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –≤ –∫–æ–¥–µ
- –≠—Ç–∏ –∫–ª—é—á–∏ –±—ã–ª–∏ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π `gender.toggle_gender`

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã `gender.changed_to_female` –∏ `gender.changed_to_male` –∏–∑ –æ–±–æ–∏—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `gender.toggle_gender` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `{gender}`

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö:

### `locales/ru/translations.json`:
```json
// ‚ùå –£–î–ê–õ–ï–ù–û:
"messages": {
  "bot_already_started": "–ë–æ—Ç —É–∂–µ –∑–∞–ø—É—â–µ–Ω - –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ üòä"
}

"gender": {
  "choose_for_chat": "–í—ã–±–µ—Ä–∏ –ø–æ–ª –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞ –¥–ª—è –æ–±—â–µ–Ω–∏—è:",
  "changed_to_female": "–ü–æ–ª –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –¥–µ–≤—É—à–∫—É üòä",
  "changed_to_male": "–ü–æ–ª –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –º–æ–ª–æ–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ üòâ"
}
```

### `locales/en/translations.json`:
```json
// ‚ùå –£–î–ê–õ–ï–ù–û:
"messages": {
  "bot_already_started": "Bot is already running üòä"
}

"gender": {
  "choose_for_chat": "Choose companion's gender for chatting:",
  "changed_to_female": "Companion's gender changed to girl üòä",
  "changed_to_male": "Companion's gender changed to young man üòâ"
}
```

### `app/domain/user/handlers.py`:
```python
# ‚ùå –ë–´–õ–û:
await message.answer(i18n.t("messages.bot_already_started"))

# ‚úÖ –°–¢–ê–õ–û:
await message.answer(i18n.t("commands.start.already_started"))
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç:

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ—á–∏—Å—Ç–∫–∏:

1. **–£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤**: –£–¥–∞–ª–µ–Ω–æ 6 –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–ª—é—á–µ–π
2. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**: –ù–µ—Ç –±–æ–ª—å—à–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
3. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏**: –ú–µ–Ω—å—à–µ –∫–ª—é—á–µ–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –û–¥–∏–Ω –∫–ª—é—á –¥–ª—è –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
5. **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞**: –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

- **–£–¥–∞–ª–µ–Ω–æ –∫–ª—é—á–µ–π**: 6 (3 –∏–∑ —Ä—É—Å—Å–∫–æ–≥–æ + 3 –∏–∑ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —Ñ–∞–π–ª–∞)
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ**: 1 –º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**: 100%

### üéØ –ò—Ç–æ–≥:

–§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Ç–µ–ø–µ—Ä—å —á–∏—â–µ, –±–µ–∑ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–ª—é—á–µ–π. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —É–º–µ–Ω—å—à–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤.
