# Локализация бота

Эта папка содержит файлы переводов для поддержки нескольких языков.

## Структура

```
locales/
├── ru/
│   └── translations.json    # Русские переводы
├── en/
│   └── translations.json    # Английские переводы
└── README.md               # Этот файл
```

## Добавление нового языка

1. Создайте папку для нового языка (например, `de` для немецкого)
2. Скопируйте структуру из `ru/translations.json` или `en/translations.json`
3. Переведите все значения на новый язык
4. Обновите маппинг языков в `app/shared/i18n/__init__.py` в методе `get_user_language()`

## Структура переводов

Файлы переводов организованы по доменам:

- `commands.*` - Команды бота (/start, /help, etc.)
- `consent.*` - Согласие с политикой конфиденциальности
- `gender.*` - Выбор пола компаньона
- `messages.*` - Сообщения об ошибках и уведомления
- `premium.*` - Премиум функции
- `errors.*` - Ошибки
- `success.*` - Успешные операции
- `buttons.*` - Текст кнопок
- `ai_prompts.*` - Промпты для ИИ

## Использование в коде

```python
from shared.i18n import i18n

# Получить перевод
text = i18n.t('commands.help.title')

# Перевод с параметрами
text = i18n.t('commands.help.free_limit', free_limit=50)

# Установить язык
i18n.set_language('en')
```

## Автоматическое определение языка

Система автоматически определяет язык пользователя на основе `language_code` из Telegram и устанавливает соответствующий язык через middleware.
